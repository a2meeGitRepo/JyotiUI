<style type="text/css">
	input:focus {
		border: 1px solid grey !important;
	}

	.date1 {
		width: 200px !important;
		font-size: 12px !important;
		border: 2px solid #ccc !important;
		border-radius: 4px !important;
		-webkit-transition: width 0.4s ease-in-out !important;
		transition: width 0.4s ease-in-out !important;
		background: #fff url(image/calendar_2.png) 97% 50% no-repeat !important;
	}

	.date1::-webkit-inner-spin-button {
		display: none;
	}

	.date1::-webkit-calendar-picker-indicator {
		opacity: 0;
	}
</style>

<div class="content-page">
	<!-- Start content -->
	<div class="content">
		<div class="container-fluid">

			<div class="row">
				<div class="col-12">
					<div class="page-title-box">
<h4 class="page-title float-left">Detial Pending Report</h4>
						<div class="clearfix"></div>
					</div>
				</div>
			</div>
			<!-- end row -->
			<div class="row">
				<div class="col-12">
					<div class="page-title-box">
						<div class="row">
							<div class="col-md-12">
								<div class="card-box">
									<div class="row">
										<div class="col-md-12 text-center">
											<img src="../../image/quarantine.png" style="width: 50px; height: 50px;" />
										</div>
									</div>
									
									
									<div class="row" style="margin-top:1%;">
									
										<div class="col-sm-4 col-xs-4">
											<label class="control-form"> Report By:<span
													style="color: red;">*</span></label>
													
													<select class="form-control " ng-model="reportBy"  id="reportType" style="height: calc(2.25rem + 14px)"required>
													<option value="" disabled selected>Select Report</option>
													<option value="ALL" >ALL</option>
													<option value="Short" >Short Material</option>
													
												</select>
												<span style="color:red" ng-show="repByErr">Please Select Report By</span>
										</div>
										<div class="form-group col-md-6">
												<label for="name13">Report Date : <span
													style="color: red">*</span>
												</label> <input type="date" class="form-control"  id="reportDate"
													ng-model="reportDate"  >
												<span style="color:red" ng-show="repDateErr">Please Select Report Date</span>
												
										</div>				
									</div>
									
									
									<div class="row" style="margin-top:2%;">
										<!-- <div class="col-sm-9 col-xs-9">
											<label class="control-form"> Material Name:<span
													style="color: red;">*</span></label>
											<isteven-multi-select
												max-labels="4"    
											    input-model="vm.items"
											    output-model="selectedItems"
											    button-label="itemMstId"
											    item-label="itemMstId"
											    tick-property="ticked">
											</isteven-multi-select>
											<input name="modelList" type="text" placeholder="Enter Item Name"
												ng-model="selectedItem"
												uib-typeahead="item.itemMstId as item.itemMstId for item in vm.items | filter:$viewValue | limitTo:8"
												multiple typeahead-no-results="itemLists" class="form-control typeahead-demo">
										</div> -->
										<!-- <div class="col-sm-3 col-xs-3">
											<label class="control-form"> Start Date:</label>
											<input type="date" class="form-control" class="date1"
												ng-model="fromDate" >
										</div>
										<div class="col-sm-3 col-xs-3">
											<label class="control-form"> End Date:</label>
											<input type="date" class="form-control" class="date1"
												ng-model="toDate">
										</div> -->
										
										<div class="col-sm-3 col-xs-3">
											<label class="control-form"> &nbsp;</label>
											<button type="button" class="btn btn-primary form-control" ng-click="vm.getPendings()"> Get Pendings</button>
										</div>
										
									</div>

								</div>
							</div>
						</div>
												</div>
					</div>
				</div>
			</div>

				<div class="row">
				<div class="col-12">
					<div class="page-title-box">
						<div class="row">
							<div class="col-12 text-center" ng-show="isLoading">
								<!-- <span>Loading Storage Bins...</span> -->
								<img src="../../image/transparent-background-loading.gif" alt="loading-img"
									style="width: 50px; height: 50px">
							</div>
							<div class="col-sm-12 col-xs-12" ng-show="!isLoading">
								<div class="card-box table-responsive">
									<table class="table table-bordered" datatable="ng" dt-column-defs="dtColumnDefs"
										dt-options="dtOptions" style="width:100%;margin:0 auto">
										<thead>
											<tr class="customTable">
												<th>#</th>
												<th>Component Code</th>
												<th>Component Desc</th>
												<th>Model Code</th>
												<th>Production Order No </th>
												<th>Assign Date</th>
												<th>Pending Qty</th>
												<th>Stock </th>
												<th>Net Pending Qty</th>
												<th>Unit</th>
												<th>Picker</th>
												<th>Status</th>
												
												
												<th>Priority Order</th>
												<th>Order Start Date</th>
												<th>Model Assembly Stage Priority </th>
												<th>Material Source</th>
												<th>Material Master Log</th>
												<th>Supplier Code  </th>
												<th>Supplier Name  </th>
												<th>Unit Price  </th>
												<th>Total Amount  </th>
												<th>SCM Mode</th>
												<th>Derived Overall Payment Priority</th>
												<th>Payment Type</th>
												<th>Derived Overall Payment Priority WRT Type</th>
												<th>Derived Overall Payment Priority WRT Type Req By Date</th>
												<th>Payment Date</th>
												
												<th>Action</th>
											</tr>
										</thead>
										<tbody>
											<tr ng-repeat="arr in vm.reportsList track by $index">
												<td>{{$index + 1}}</td>
												<td>{{arr.compCode}}</td>
												<td>{{arr.compDesc}}</td>
												<td>{{arr.modelCode}}</td>
												<td>{{arr.proOrdNo}}</td>
												<td>{{arr.assignDate | date:'yyyy-MM-dd'}}</td>
												<td>{{arr.pickCompQty}}</td>
												<td>{{arr.stockQty}}</td>
												<td>{{arr.pickCompQty-arr.stockQty}}</td>
												<td>{{arr.uom}}</td>
												<td>{{arr.picker}}</td>
												<td>{{arr.status}}</td>
												
												
												
												
												<td>{{arr.priorityOrder}}</td>
												<td>{{arr.orderStartDate}}</td>
												<td>{{arr.assemblyMatStagePriority}}</td>
												<td>{{arr.materialSource}}</td>
												<td>{{arr.matMasterLog}}</td>
												<td>
														<span  ng-show=" ! arr.edit">{{arr.supplier.supplierCode}}</span>
													<span  ng-show="arr.edit">
														<select class="form-control f_left" ng-model="arr.supplier.supplierId" required>
															<option value="" disabled selected>Select Supplier</option>
															<option ng-repeat="opts in vm.suppliers" value="{{opts.supplierId}}">
																{{opts.supplierCode}} </option>
												</select>
													
													
													</span>
												
												</td>
												<td>{{arr.supplier.supplierName}}</td>
												<td>{{arr.unitPrice}}</td>
												<td>{{arr.totalPrice}}</td>
												<td>{{arr.scmMode}}</td>
												<td>{{arr.derivedPaymentPriority}}</td>
												<td>{{arr.paymentType}}</td>
												<td>{{arr.derivedPaymentPriorityWrtType}}</td>
												<td>{{arr.derivedPaymentPriorityWrtTypeReqDate}}</td>
												<td><span  ng-show=" ! arr.edit">{{arr.paymentDoneDate|date:'dd-MM-yyyy'}}</span>
													<span  ng-show="arr.edit">
														<input type="date"
																
																ng-model="arr.paymentDoneDate" class="f_left form-control" >
														
													
													
													</span>
												
												
												</td>
												<td>
													<button class="btn btn-primary waves-effect waves-light" ng-show="!arr.edit" ng-click="modify($index)" style="margin-right: 2px;" aria-hidden="true"><i class="fa fa-edit" aria-hidden="true"></i></button>
													<button class="btn btn-success waves-effect waves-light" ng-show="arr.edit" ng-click="update($index, arr)" style="margin-right: 5px;" aria-hidden="false"><i class="fa fa-save" aria-hidden="true"></i></button>
													
												</td>
											</tr>
										</tbody>
									</table>

								</div>
								<button class="btn btn-info w-md btn-rounded waves-effect waves-light"
									ng-show="vm.reportsList.length>0" style="float: right; width:20%;"
									ng-json-export-excel data="vm.reportsList" report-fields="vm.labels"
									filename="'Pending Report'">Export</button>
							</div>
						</div>
					</div>
				</div>
			</div>


		</div>
	</div>
</div>